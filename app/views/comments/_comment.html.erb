<%= turbo_frame_tag(dom_id(comment)) do %>
  <div class="bg-light rounded-4 p-4 my-3 shadow-sm">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div class="d-flex align-items-center">
        <span class="fw-bold text-primary me-2">
          <%= t("common.by", name: comment.user.fullname) %>
        </span>
        <span class="small text-secondary me-2">
          (@<%= render(ClipboardComponent.new(text: comment.user.slug)) %>)
        </span>
        <% if policy(comment).edit? %>
          <div class="d-flex gap-2">
            <%= link_to(edit_visualization_comment_path(locale, comment.visualization, comment), class: "btn btn-outline-secondary btn-sm rounded-4") do %>
              <i class="fa-solid fa-pencil"></i>
              <%= t("common.edit") %>
            <% end %>
            <%= render("comments/destroy", comment:) %>
          </div>
        <% end %>
      </div>
      <span class="text-muted small">
        <%= humanized_time_ago(comment.created_at) %>
      </span>
    </div>
    <%= ContentPresenter.new(comment.content, current_user).with_mentions %>
  </div>
<% end %>
